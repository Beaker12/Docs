<!doctype html> <html> <head> <meta charset=utf-8> <meta content="IE=edge,chrome=1" http-equiv=X-UA-Compatible> <meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1"> <title>API Documentation</title> <link href="../stylesheets/screen.css" rel=stylesheet media=screen /> <link href="../stylesheets/print.css" rel=stylesheet media=print /> <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="../javascripts/all_nosearch.js"></script> </head> <body class="includes includes_rust_functions"> <a href="#" id=nav-button> <span> NAV <img src="../images/navbar.png"/> </span> </a> <div class=tocify-wrapper> <img src="../images/logo.png"/> <div id=toc> </div> </div> <div class=page-wrapper> <div class=dark-box></div> <div class=content> <h1 id=rust-functions>Rust Functions</h1> <p>There are a few functions that have been added to wrap Rust functions, creating aliases of sorts to make your life easier during initial coding as well as during upgrades.</p> <h2 id=broadcastchat>BroadcastChat</h2> <pre><code class="highlight csharp"><span class="k">void</span> <span class="nf">OnPlayerInit</span><span class="p">(</span><span class="n">BasePlayer</span> <span class="n">player</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">var</span> <span class="n">message</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"{0} has joined the server"</span><span class="p">,</span> <span class="n">player</span><span class="p">.</span><span class="n">displayName</span><span class="p">);</span>
    <span class="n">rust</span><span class="p">.</span><span class="nf">BroadcastChat</span><span class="p">({</span> <span class="n">message</span> <span class="p">});</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">an</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">OnPlayerInit</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
    <span class="n">rust</span><span class="p">.</span><span class="n">BroadcastChat</span><span class="p">(</span><span class="n">player</span><span class="p">.</span><span class="n">diplayName</span> <span class="o">..</span> <span class="s2">" has joined the server"</span><span class="p">)</span>
<span class="k">end</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Sends a chat message to all players. The optional userid argument is used for the avatar in the chat, with 0 the default and Rust logo.</p> <p><strong>Usage:</strong> <code class=prettyprint>rust.BroadcastChat(name, message, userid)</code></p> <h2 id=sendchatmessage>SendChatMessage</h2> <pre><code class="highlight csharp"><span class="k">void</span> <span class="nf">OnPlayerSpawn</span><span class="p">(</span><span class="n">BasePlayer</span> <span class="n">player</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">var</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"You've respawned from a terrible death"</span><span class="p">;</span>
    <span class="n">rust</span><span class="p">.</span><span class="nf">SendChatMessage</span><span class="p">({</span> <span class="n">player</span><span class="p">,</span> <span class="n">message</span> <span class="p">});</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">an</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">OnPlayerSpawn</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
    <span class="n">rust</span><span class="p">.</span><span class="n">SendChatMessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="s2">"SERVER"</span><span class="p">,</span> <span class="s2">"You've respawned from a terrible death"</span><span class="p">)</span>
<span class="k">end</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Sends a chat message to specified player. The optional userid argument is used for the avatar in the chat, with 0 the default and Rust logo.</p> <p><strong>Usage:</strong> <code class=prettyprint>rust.SendChatMessage(player, name, message, userid)</code></p> <h2 id=quotesafe>QuoteSafe</h2> <pre><code class="highlight csharp"><span class="n">var</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Use /kick \"playername\" to kick player"</span><span class="p">;</span>
<span class="n">message</span><span class="p">.</span><span class="nf">QuoteSafe</span><span class="p">();</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">an</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="n">rust</span><span class="p">.</span><span class="n">QuoteSafe</span><span class="p">(</span><span class="s2">"Use /kick \"</span><span class="n">playername</span><span class="err">\</span><span class="s2">" to kick player"</span><span class="p">)</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Used to safely save text or send a message that contains quotation marks.</p> <p><strong>Usage:</strong> <code class=prettyprint>rust.QuoteSafe(message)</code></p> <h2 id=useridfromconnection>UserIDFromConnection</h2> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">an</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Gets the user ID (64-bit SteamID) of a player from their connection.</p> <p><strong>Usage:</strong> <code class=prettyprint>rust.UserIdFromConnection(connection)</code></p> <h2 id=useridfromplayer>UserIDFromPlayer</h2> <pre><code class="highlight csharp"><span class="na">[ChatCommand("steamid")]</span>
<span class="k">void</span> <span class="nf">cmdChatSteamid</span><span class="p">(</span><span class="n">BasePlayer</span> <span class="n">player</span><span class="p">,</span> <span class="kt">string</span> <span class="n">command</span><span class="p">,</span> <span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">SendReply</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="s">"SERVER"</span><span class="p">,</span> <span class="s">"Your SteamID is: "</span> <span class="p">+</span> <span class="n">player</span><span class="p">.</span><span class="n">userID</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">an</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">Init</span><span class="p">()</span>
    <span class="n">command</span><span class="p">.</span><span class="n">AddChatCommand</span><span class="p">(</span><span class="s2">"steamid"</span><span class="p">,</span>  <span class="n">self</span><span class="p">.</span><span class="n">Object</span><span class="p">,</span> <span class="s2">"cmdSteamId"</span><span class="p">)</span>
<span class="k">end</span>

<span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">cmdSteamId</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span>
    <span class="n">rust</span><span class="p">.</span><span class="n">SendChatMessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="s2">"SERVER"</span><span class="p">,</span> <span class="s2">"Your Steam ID is: "</span> <span class="o">..</span> <span class="n">rust</span><span class="p">.</span><span class="n">UserIDFromPlayer</span><span class="p">(</span><span class="n">player</span><span class="p">))</span>
<span class="k">end</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Gets the user ID (64-bit SteamID) of an online player.</p> <p><strong>Usage:</strong> <code class=prettyprint>rust.UserIDFromPlayer(player)</code></p> <h2 id=useridfromdeployeditem>UserIDFromDeployedItem</h2> <pre><code class="highlight csharp"><span class="kt">object</span> <span class="nf">CanClientLogin</span><span class="p">(</span><span class="n">Network</span><span class="p">.</span><span class="n">Connection</span> <span class="n">connection</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">var</span> <span class="n">playerid</span> <span class="p">=</span> <span class="n">connection</span><span class="p">.</span><span class="n">userid</span><span class="p">.</span><span class="nf">ToString</span><span class="p">();</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">playerid</span> <span class="p">==</span> <span class="s">"76175462486136042"</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="s">"Sorry, you are not allowed on this server!"</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">an</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">CanClientLogin</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
    <span class="kd">local</span> <span class="n">playerid</span> <span class="o">=</span> <span class="n">rust</span><span class="p">.</span><span class="n">UserIDFromConnection</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">playerid</span> <span class="o">==</span> <span class="s2">"76175462486136042"</span> <span class="k">then</span>
        <span class="k">return</span> <span class="s2">"Sorry, you are not allowed on this server!"</span>
    <span class="k">end</span>
<span class="k">end</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Gets the owner ID (64-bit SteamID) of a deployed item.</p> <p><strong>Usage:</strong> <code class=prettyprint>rust.UserIDFromDeployedItem(deployeditem)</code></p> <h2 id=useridsfrombuildingprivlidge>UserIDsFromBuildingPrivlidge</h2> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">an</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Gets the user ID (64-bit SteamID) of players that have access to a Tool Cupboard. Yes, the typo is intentional.</p> <p><strong>Usage:</strong> <code class=prettyprint>rust.UserIDsFromBuildingPrivlidge(buildingpriv)</code></p> <h2 id=runservercommand>RunServerCommand</h2> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">an</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="n">rust</span><span class="p">.</span><span class="n">RunServerCommand</span><span class="p">(</span><span class="s2">"server.hostname"</span><span class="p">,</span> <span class="s2">"New Server Name"</span><span class="p">)</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Run a server command.</p> <p><strong>Usage:</strong> <code class=prettyprint>rust.RunServerCommand(command, args)</code></p> <h2 id=forceplayerposition>ForcePlayerPosition</h2> <pre><code class="highlight csharp"><span class="k">void</span> <span class="nf">ForcePlayerPosition</span><span class="p">(</span><span class="n">BasePlayer</span> <span class="n">player</span><span class="p">,</span> <span class="kt">string</span> <span class="n">x</span><span class="p">,</span> <span class="kt">string</span> <span class="n">y</span><span class="p">,</span> <span class="kt">string</span> <span class="n">z</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Vector3</span> <span class="n">destination</span> <span class="p">=</span> <span class="k">new</span> <span class="n">UnityEngine</span><span class="p">.</span><span class="nf">Vector3</span><span class="p">();</span>
    <span class="n">destination</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="n">x</span><span class="p">;</span>
    <span class="n">destination</span><span class="p">.</span><span class="n">y</span> <span class="p">=</span> <span class="n">y</span><span class="p">;</span>
    <span class="n">destination</span><span class="p">.</span><span class="n">z</span> <span class="p">=</span> <span class="n">z</span><span class="p">;</span>
    <span class="n">player</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">position</span> <span class="p">=</span> <span class="n">destination</span><span class="p">;</span>
    <span class="n">player</span><span class="p">.</span><span class="nf">ClientRPC</span><span class="p">(</span><span class="k">null</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="s">"ForcePositionTo"</span><span class="p">,</span> <span class="k">new</span> <span class="kt">object</span><span class="p">[]</span> <span class="p">{</span> <span class="n">destination</span> <span class="p">});</span>
    <span class="n">player</span><span class="p">.</span><span class="nf">TransformChanged</span><span class="p">();</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">an</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="n">rust</span><span class="p">.</span><span class="n">ForcePlayerPosition</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Teleports a player to specified coordinates/position.</p> <p><strong>Usage:</strong> <code class=prettyprint>rust.ForcePlayerPosition(player, x, y, z)</code></p> <h2 id=privatebindingflag>PrivateBindingFlag</h2> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">an</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">an</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Used to get/set private methods, fields, and properties.</p> <p><strong>Usage:</strong> <code class=prettyprint>rust.PrivateBindingFlag()</code></p> </div> <div class=dark-box> </div> </div> </body> </html>