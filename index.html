<!doctype html> <html> <head> <meta charset=utf-8> <meta content="IE=edge,chrome=1" http-equiv=X-UA-Compatible> <meta name=viewport content="width=device-width, initial-scale=1, maximum-scale=1"> <title>Oxide API Reference</title> <link href="stylesheets/screen.css" rel=stylesheet media=screen /> <link href="stylesheets/print.css" rel=stylesheet media=print /> <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script> <script src="javascripts/all.js"></script> <script>
        $(function() {
          setupLanguages(["csharp","javascript","lua","python"]);
        });
      </script> </head> <body class=index> <a href="#" id=nav-button> <span> NAV <img src="images/navbar.png"/> </span> </a> <div class=tocify-wrapper> <img src="images/logo.png"/> <div class=lang-selector> <a href="#" data-language-name=csharp>csharp</a> <a href="#" data-language-name=javascript>javascript</a> <a href="#" data-language-name=lua>lua</a> <a href="#" data-language-name=python>python</a> </div> <div class=search> <input class=search id=input-search placeholder=Search> </div> <ul class=search-results></ul> <div id=toc> </div> <ul class=toc-footer> <li><a href='//oxidemod.org'>Get help on our forums</a></li> <li><a href='https://github.com/OxideMod/Oxide'>View Oxide source on GitHub</a></li> <li><a href='https://github.com/tripit/slate'>Documentation powered by Slate</a></li> </ul> </div> <div class=page-wrapper> <div class=dark-box></div> <div class=content> <h1 id=introduction>Introduction</h1> <pre><code class="highlight plaintext">  _          _ _             
 | |__   ___| | | ___        
 | '_ \ / _ \ | |/ _ \       
 | | | |  __/ | | (_) |      
 |_| |_|\___|_|_|\___/     _ 
 __      _____  _ __| | __| |
 \ \ /\ / / _ \| '__| |/ _` |
  \ V  V / (_) | |  | | (_| |
   \_/\_/ \___/|_|  |_|\__,_|


So you want to develop plugins for Oxide?

We'll show you how to get started, along with sample code!
</code></pre> <p>Oxide is a complete rewrite of the popular, original Oxide mod for the game Rust. Oxide has a focus on modularity and extensibility.</p> <p>The core is highly abstracted and loosely coupled, and could be used to mod any game that uses .NET such as 7 Days to Die, The Forest, Space Engineers, and more. Support for games, plugin languages, and other functionality is added via extensions. When loading, Oxide 2 scans the binary folder for DLL extensions. Extension filenames are formatted as <code class=prettyprint>Oxide.Ext.Name.dll</code>.</p> <p>The current official extensions are listed below:</p> <ul> <li>Oxide.Ext.CSharp - <em>Allows raw <a href="//en.wikipedia.org/wiki/C_Sharp_(programming_language)">CSharp plugins</a> to be loaded</em></li> <li>Oxide.Ext.JavaScript - <em>Allows <a href="//en.wikipedia.org/wiki/JavaScript">JavaScript</a> plugins to be loaded</em></li> <li>Oxide.Ext.Lua - <em>Allows <a href="//www.lua.org/">Lua</a> plugins to be loaded</em></li> <li>Oxide.Ext.MySql - <em>Allows plugins to access a <a href="//www.mysql.com/">MySQL</a> database</em></li> <li>Oxide.Ext.Python - <em>Allows <a href="//en.wikipedia.org/wiki/Python_(programming_language)">Python</a> plugins to be loaded</em></li> <li>Oxide.Ext.Rust - <em>Provides support for the <a href="//playrust.com/">Rust</a> Experimental server</em></li> <li>Oxide.Ext.SevenDays - <em>Provides support for the <a href="//7daystodie.com/">7 Days to Die</a> server</em></li> <li>Oxide.Ext.SQLite - <em>Allows plugins to access a <a href="//www.sqlite.org/">SQLite</a> database</em></li> <li>Oxide.Ext.Unity - <em>Provides support for <a href="//unity3d.com/">Unity</a> games</em></li> </ul> <p>Third-party, unofficial extensions available:</p> <ul> <li><a href="//oxidemod.org/resources/768/">Oxide.Ext.RustIO.dll</a> - <em>Provides generation of map images, lightweight web server, and live map</em></li> </ul> <p>Examples of what extensions may be available in the future:</p> <ul> <li>Oxide.Ext.IRC - <em>Allows plugins to access an IRC server</em></li> <li>Oxide.Ext.Updater - <em>Allows for automatic plugin checking and updating</em></li> </ul> <h1 id=getting-started>Getting Started</h1> <pre><code class="highlight csharp"><span class="c1">// Reference: Oxide.Ext.Rust
</span>
<span class="k">namespace</span> <span class="nn">Oxide.Plugins</span>
<span class="p">{</span>
    <span class="p">[</span><span class="nf">Info</span><span class="p">(</span><span class="s">"Title of Plugin"</span><span class="p">,</span> <span class="s">"Your Name"</span><span class="p">,</span> <span class="s">"0.1.0"</span><span class="p">,</span> <span class="n">ResourceId</span> <span class="p">=</span> <span class="m">681</span><span class="p">)]</span>
    <span class="k">public</span> <span class="k">class</span> <span class="nc">PluginName</span> <span class="p">:</span> <span class="n">RustPlugin</span>
    <span class="p">{</span>
        <span class="c1">// This is where your plugin will do its magic
</span>    <span class="p">}</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">PluginName</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">Title</span> <span class="p">:</span> <span class="s2">"Title of Plugin"</span><span class="p">,</span>
    <span class="na">Version</span> <span class="p">:</span> <span class="nx">V</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span>
    <span class="na">Description</span> <span class="p">:</span> <span class="s2">"Plugin description"</span><span class="p">,</span>
    <span class="na">Author</span> <span class="p">:</span> <span class="s2">"Your Name"</span><span class="p">,</span>
    <span class="na">Url</span> <span class="p">:</span> <span class="s2">"http://oxidemod.org/resources/681/"</span><span class="p">,</span>
    <span class="na">ResourceId</span> <span class="p">:</span> <span class="mi">681</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight lua"><span class="n">PLUGIN</span><span class="p">.</span><span class="n">Title</span> <span class="o">=</span> <span class="s2">"Title of Plugin"</span>
<span class="n">PLUGIN</span><span class="p">.</span><span class="n">Version</span> <span class="o">=</span> <span class="n">V</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="n">PLUGIN</span><span class="p">.</span><span class="n">Description</span> <span class="o">=</span> <span class="s2">"Plugin description"</span>
<span class="n">PLUGIN</span><span class="p">.</span><span class="n">Author</span> <span class="o">=</span> <span class="s2">"Your Name"</span>
<span class="n">PLUGIN</span><span class="p">.</span><span class="n">Url</span> <span class="o">=</span> <span class="s2">"http://oxidemod.org/resources/681/"</span>
<span class="n">PLUGIN</span><span class="p">.</span><span class="n">ResourceId</span> <span class="o">=</span> <span class="mi">681</span>
</code></pre> <pre><code class="highlight python"><span class="k">class</span> <span class="nc">PluginName</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Title</span> <span class="o">=</span> <span class="s">"Title of Plugin"</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Version</span> <span class="o">=</span> <span class="n">V</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Description</span> <span class="o">=</span> <span class="s">"Plugin description"</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Author</span> <span class="o">=</span> <span class="s">"Your Name"</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Url</span> <span class="o">=</span> <span class="s">"http://oxidemod.org/resources/681/"</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ResourceId</span> <span class="o">=</span> <span class="mi">681</span>
</code></pre> <p>Every plugin has to start somewhere, and this is it. The most important part of every plugin is the required Title, Version, Description, and Author variables. These are the bare minimum that every plugin needs, else it will not load and you&rsquo;ll have some unhappy users!</p> <p>The title variable is what defines your plugin. This can be either a &ldquo;codename&rdquo; such as &ldquo;Casper&rdquo; or a short description such as &ldquo;Invisible Admin&rdquo;, just make sure to pick something that uniquely identifies your plugin.</p> <p>The version variable is another important point. It is used to tell users if the version of the plugin they have installed is outdated or not. Always make sure to increment your version with each release you make on our site.</p> <p>The description variable is just that, a description of your plugin. This isn&rsquo;t as important as the other variables, but it does help users identify your plugin in case the title isn&rsquo;t enough. Make it good, but not too long!</p> <p>Last but not least, the author variable. This is what gives you credit where credit is due.</p> <p>You can always add additional variables, but these are the minimum that you must have. Other common ones are Url and ResourceId., which are mainly for quick access to your release page and for support with updater tools.</p> <h1 id=rust-api-hooks>Rust API Hooks</h1> <h2 id=plugin-hooks>Plugin hooks</h2> <h3 id="init()">Init()</h3> <ul> <li>Called when the plugin is being loaded</li> <li>Other plugins may or may not be present, dependant on load order</li> <li>Other plugins WILL have been executed though, so globals exposed by them will be present</li> </ul> <h3 id="loaddefaultconfig()">LoadDefaultConfig()</h3> <ul> <li>Called when the config for the plugin should be initialized</li> <li>Only called if the config file does not already exist</li> </ul> <h3 id="unload()">Unload()</h3> <ul> <li>Called when the plugin is being unloaded</li> </ul> <h3 id="onpluginloaded(plugin)">OnPluginLoaded(plugin)</h3> <ul> <li>Called when specified plugin has been loaded</li> </ul> <h3 id="onpluginunloaded(plugin)">OnPluginUnloaded(plugin)</h3> <ul> <li>Called when specified plugin has been unloaded</li> </ul> <h2 id=general-hooks>General hooks</h2> <h3 id="oninitlogging()">OnInitLogging()</h3> <ul> <li>Called from Bootstrap.StartupShared</li> <li>No return behavior</li> <li>Used internally by Oxide to start Unity logging</li> </ul> <h3 id="modifytags(string-oldtags)">ModifyTags(string oldtags)</h3> <ul> <li>Called from ServerMgr.UpdateServerInformation</li> <li>Returning a string overrides the tags with new ones</li> <li>Used by RustCore and abstracted into BuildServerTags</li> </ul> <h3 id="buildservertags(ilist-tags)">BuildServerTags(IList<string> tags)</h3> <ul> <li>Called from RustCore.ModifyTags</li> <li>No return behavior</li> <li>Add tags to the list, they will be concat&rsquo;d at the end</li> </ul> <h3 id="onterraininitialized()">OnTerrainInitialized()</h3> <ul> <li>Called from InitializePVT.Apply</li> <li>No return behavior</li> <li>Called after the terrain generation process has completed</li> </ul> <h3 id="onserverinitialized()">OnServerInitialized()</h3> <ul> <li>Called from ServerMgr.Initialize</li> <li>No return behavior</li> <li>Called after the server startup has been completed and is awaiting connections</li> </ul> <h3 id="onserversave()">OnServerSave()</h3> <ul> <li>Called from SaveRestore.DoAutomatedSave</li> <li>No return behavior</li> <li>Called before the server saves and rotates the .sav files</li> </ul> <h3 id="onservershutdown()">OnServerShutdown()</h3> <ul> <li>Called from ConsoleGlobal</li> <li>No return behavior</li> <li>Called before the server starts the shutdown sequence</li> <li>This should generally not be used by plugins, instead use the Unload hook</li> <li>This is the direct replacement to OnServerQuit, which has since been removed</li> </ul> <h3 id="ontick()">OnTick()</h3> <ul> <li>Called from ServerMgr.DoTick</li> <li>No return behavior</li> <li>Called every tick (defined by the tickrate of the server?)</li> </ul> <h3 id="onruncommand(consolesystem.arg-arg)">OnRunCommand(ConsoleSystem.Arg arg)</h3> <ul> <li>Called from ConsoleSystem.Run_Internal, ConsoleSystem.Run_Unrestricted, and ConsoleSystem.SystemRealm_Normal</li> <li>Return true to override Rust&rsquo;s command handling system</li> <li>Useful for intercepting commands before they get to their intended target (like chat.say)</li> <li>Used by RustCore to implement chat commands</li> </ul> <h2 id=player-hooks>Player hooks</h2> <h3 id="onuserapprove(network.connection-connection)">OnUserApprove(Network.Connection connection)</h3> <ul> <li>Called from ConnectionAuth.OnNewConnection</li> <li>Returning a non-null value overrides default behavior, plugin should call Reject if it does this</li> <li>Used by RustCore and abstracted into CanClientLogin</li> </ul> <h3 id="canclientlogin(network.connection-connection)">CanClientLogin(Network.Connection connection)</h3> <ul> <li>Called from RustCore.OnUserApprove</li> <li>Returning true will allow the connection, returning nothing will by default allow the connection, returning anything else will reject it with an error message</li> <li>Returning a string will use the string as the error message</li> </ul> <h3 id="onplayerconnected(network.message-packet)">OnPlayerConnected(Network.Message packet)</h3> <ul> <li>Called from ServerMgr.ClientReady</li> <li>No return behavior</li> <li>Called before the player object is created, but after the player has been approved to join the game</li> <li>Can get the connection from packet.connection</li> </ul> <h3 id="onplayerdisconnected(baseplayer-player)">OnPlayerDisconnected(BasePlayer player)</h3> <ul> <li>Called from BasePlayer.OnDisconnected</li> <li>No return behavior</li> <li>Called before the player object is created, but after the player has been approved to join the game</li> </ul> <h3 id="onplayerinit(baseplayer-player)">OnPlayerInit(BasePlayer player)</h3> <ul> <li>Called from BasePlayer.PlayerInit</li> <li>No return behavior</li> <li>Called when the player is initialising (after they&rsquo;ve connected, before they wake up)</li> </ul> <h3 id="onfindspawnpoint()">OnFindSpawnPoint()</h3> <ul> <li>Called from ServerMgr.BasePlayer/SpawnPoint</li> <li>Return a BasePlayer.SpawnPoint object to use that spawnpoint</li> <li>Useful for controlling player spawnpoints (like making all spawns occur in a set area)</li> </ul> <h3 id="onplayerrespawned(baseplayer-player)">OnPlayerRespawned(BasePlayer player)</h3> <ul> <li>Called from BasePlayer.Respawn</li> <li>Called when the player spawns (specifically when they click the &ldquo;Respawn&rdquo; button)</li> <li>No return behavior</li> <li>ONLY called after the player has transitioned from dead to not-dead, so not when they&rsquo;re waking up</li> <li>This means it&rsquo;s possible for a player to connect and disconnect from a server without OnPlayerRespawned ever triggering for them</li> </ul> <h3 id="onplayerchat(consolesystem.arg-arg)">OnPlayerChat(ConsoleSystem.Arg arg)</h3> <ul> <li>Called from chat.say</li> <li>Returning a non-null value overrides default behavior of chat, not commands</li> </ul> <h3 id="onrunplayermetabolism(playermetabolism-metabolism)">OnRunPlayerMetabolism(PlayerMetabolism metabolism)</h3> <ul> <li>Called from PlayerMetabolism.RunMetabolism</li> <li>Called before a metabolism update occurs for the specified player</li> <li>Returning true cancels the update</li> <li>Metabolism update consists of managing the player&rsquo;s temperature, health etc.</li> <li>You can use this to turn off or change certain aspects of the metabolism, either by editing values before returning, or taking complete control of the method</li> <li>Access the player object using metabolism:GetComponent(&ldquo;BasePlayer&rdquo;)</li> </ul> <h3 id="onplayerattack(baseplayer-attacker,-hitinfo-hitinfo)">OnPlayerAttack(BasePlayer attacker, HitInfo hitInfo)</h3> <ul> <li>Called from BasePlayer.SharedProjectileAttack and BaseMelee.DoAttackShared</li> <li>Returning true cancels the attack</li> <li>Useful for modifying an attack before it goes out</li> <li>hitInfo.HitEntity should be the entity that this attack would hit</li> </ul> <h3 id="onplayerloot(playerloot-lootinventory,-baseentity-targetentity)">OnPlayerLoot(PlayerLoot lootInventory, BaseEntity targetEntity)</h3> <ul> <li>Called from PlayerLoot.StartLootingEntity</li> <li>No return behavior</li> <li>Called when the player starts looting an entity</li> </ul> <h3 id="onplayerloot(playerloot-lootinventory,-baseplayer-targetplayer)">OnPlayerLoot(PlayerLoot lootInventory, BasePlayer targetPlayer)</h3> <ul> <li>Called from PlayerLoot.StartLootingPlayer</li> <li>No return behavior</li> <li>Called when the player starts looting another player</li> </ul> <h3 id="onplayerloot(playerloot-lootinventory,-item-targetitem)">OnPlayerLoot(PlayerLoot lootInventory, Item targetItem)</h3> <ul> <li>Called from PlayerLoot.StartLootingItem</li> <li>No return behavior</li> <li>Called when the player starts looting an item</li> </ul> <h3 id="onplayerinput(baseplayer-player,-inputstate-input)">OnPlayerInput(BasePlayer player, InputState input)</h3> <ul> <li>Called from BasePlayer.OnReceiveTick</li> <li>No return behavior</li> <li>Called when input is received from a connected client</li> </ul> <h2 id=entity-hooks>Entity hooks</h2> <h3 id="onentityspawned(basenetworkable-entity)">OnEntitySpawned(BaseNetworkable entity)</h3> <ul> <li>Called from BaseNetworkable.Spawn</li> <li>No return behavior</li> <li>Called after any networked entity has spawned (including trees)</li> </ul> <h3 id="onentityattacked(basecombatentity-entity,-hitinfo-hitinfo)">OnEntityAttacked(BaseCombatEntity entity, HitInfo hitInfo)</h3> <ul> <li>Called from BaseCombatEntity.Hurt</li> <li>Returning non-null value overrides default server behavior (useful for godmode etc.)</li> <li>Alternatively, modify the hitInfo object to change the damage</li> <li>It should be okay to set the damage to 0, but if you don&rsquo;t return non-null, the player&rsquo;s client will receive a damage indicator (if entity is a BasePlayer)</li> <li>hitInfo has all kinds of useful things in it, such as hitInfo.Weapon, hitInfo.damageAmount or hitInfo.damageType</li> <li>Currently implemented for: BasePlayer, BaseAnimal</li> </ul> <h3 id="onentitydeath(basecombatentity-entity,-hitinfo-hitinfo)">OnEntityDeath(BaseCombatEntity entity, HitInfo hitInfo)</h3> <ul> <li>Called from BaseCombatEntity.Die</li> <li>No return behavior</li> <li>hitInfo might be null, check it before use</li> <li>Editing hitInfo probably has no effect</li> <li>Currently implemented for: BasePlayer, BaseAnimal</li> </ul> <h3 id="onentityenter(triggerbase-triggerbase,-baseentity-entity)">OnEntityEnter(TriggerBase triggerBase, BaseEntity entity)</h3> <ul> <li>Called from TriggerBase.OnEntityEnter</li> <li>No return behavior</li> <li>Called when an entity enters an area/zone (building privilege zone, water area, radiation zone, hurt zone, etc.)</li> </ul> <h3 id="onentityleave(triggerbase-triggerbase,-baseentity-entity)">OnEntityLeave(TriggerBase triggerBase, BaseEntity entity)</h3> <ul> <li>Called from TriggerBase.OnEntityLeave</li> <li>No return behavior</li> <li>Called when an entity leaves an area/zone (building privilege zone, water area, radiation zone, hurt zone, etc.)</li> </ul> <h2 id=item-hooks>Item hooks</h2> <h3 id="onitemcraft(itemcrafttask-item)">OnItemCraft(ItemCraftTask item)</h3> <ul> <li>Called from ItemCrafter.CraftItem</li> <li>Return a ItemCraftTask object to modify behavior</li> <li>Called right after an item has started crafting</li> </ul> <h3 id="onitemdeployed(deployer-deployer,-baseentity-deployedentity)">OnItemDeployed(Deployer deployer, BaseEntity deployedEntity)</h3> <ul> <li>Called from Deployer.DoDeploy_Regular and Deployer.DoDeploy_Slot</li> <li>No return behavior</li> <li>Called right after an item has been deployed</li> </ul> <h3 id="onitemaddedtocontainer(itemcontainer-container,-item-item)">OnItemAddedToContainer(ItemContainer container, Item item)</h3> <ul> <li>Called from ItemContainer.Insert</li> <li>No return behavior</li> <li>Called right after an item was added to a container</li> <li>An entire stack has to be created, not just adding more wood to a wood stack for example</li> </ul> <h3 id="onitemremovedfromcontainer(itemcontainer-container,-item-item)">OnItemRemovedFromContainer(ItemContainer container, Item item)</h3> <ul> <li>Called from ItemContainer.Remove</li> <li>No return behavior</li> <li>Called right after an item was removed from a container</li> <li>The entire stack has to be removed for this to be called, not just a little bit</li> </ul> <h3 id="onconsumableuse(item-item)">OnConsumableUse(Item item)</h3> <ul> <li>Called from Item.UseOneItem</li> <li>No return behavior</li> <li>Called right after a consumable item is used</li> </ul> <h3 id="onconsumefuel(baseoven-oven,-item-fuel,-itemmodburnable-burnable)">OnConsumeFuel(BaseOven oven, Item fuel, ItemModBurnable burnable)</h3> <ul> <li>Called from BaseOven.ConsumeFuel</li> <li>No return behavior</li> <li>Called right before fuel is used (furnace, lanterns, camp fires, etc.)</li> </ul> <h3 id="ongather(resourcedispenser-dispenser,-baseentity-entity,-item-item)">OnGather(ResourceDispenser dispenser, BaseEntity entity, Item item)</h3> <ul> <li>Called from ResourceDispenser.GiveResourceFromItem</li> <li>No return behavior</li> <li>Called before the player is given items from a resource</li> </ul> <h2 id=structure-hooks>Structure hooks</h2> <h3 id="canopendoor(baseplayer-player,-baselock-lock)">CanOpenDoor(BasePlayer player, BaseLock lock)</h3> <ul> <li>Called from BaseLock.OnTryToOpen and BaseLock.OnTryToClose</li> <li>Returning true will allow door usage, nothing will by default will allow door usage, returning anything else will reject door usage</li> </ul> <h3 id="canopendoor(baseplayer-player,-codelock-lock)">CanOpenDoor(BasePlayer player, CodeLock lock)</h3> <ul> <li>Called from CodeLock.OnTryToOpen and CodeLock.OnTryToClose</li> <li>Returning true will allow door usage, nothing will by default will allow door usage, returning anything else will reject door usage</li> </ul> <h3 id="canopendoor(baseplayer-player,-keylock-lock)">CanOpenDoor(BasePlayer player, KeyLock lock)</h3> <ul> <li>Called from KeyLock.OnTryToOpen and KeyLock.OnTryToClose</li> <li>Returning true will allow door usage, nothing will by default will allow door usage, returning anything else will reject door usage</li> </ul> <h3 id="onentitybuilt(planner-planner,-unityengine/gameobject-gameobject)">OnEntityBuilt(Planner planner, UnityEngine/GameObject gameObject)</h3> <ul> <li>Called from Item.Modules.Planner</li> <li>No return behavior</li> <li>Called when any structure is built (walls, ceilings, stairs, etc.)</li> </ul> <h3 id="onbuildingblockupgrade(buildingblock-block,-baseplayer-player,-buildinggrade.enum-grade)">OnBuildingBlockUpgrade(BuildingBlock block, BasePlayer player, BuildingGrade.Enum grade)</h3> <ul> <li>Called from BuildingBlock.DoUpgradeToGrade</li> <li>Returning a BuildingGrade.Enum grade will change the grade that will be upgraded to</li> <li>Called when a player upgrades the grade of a BuildingBlock</li> </ul> <h3 id="onbuildingblockrotate(buildingblock-block,-baseplayer-player)">OnBuildingBlockRotate(BuildingBlock block, BasePlayer player)</h3> <ul> <li>Called from BuildingBlock.DoRotation</li> <li>No return behavior</li> <li>Called when a player rotates a BuildingBlock</li> </ul> <h3 id="onbuildingblockdemolish(buildingblock-block,-baseplayer-player)">OnBuildingBlockDemolish(BuildingBlock block, BasePlayer player)</h3> <ul> <li>Called from BuildingBlock.DoImmediateDemolish</li> <li>Return true to cancel</li> <li>Called when a player selects DemolishImmediate from the BuildingBlock menu</li> </ul> <h1 id=rust-functions>Rust Functions</h1> <p>There are a few functions that have been added to wrap Rust functions, creating aliases of sorts to make your life easier during initial coding as well as during upgrades.</p> <h2 id=broadcastchat>BroadcastChat</h2> <pre><code class="highlight csharp"><span class="k">void</span> <span class="nf">OnPlayerInit</span><span class="p">(</span><span class="n">BasePlayer</span> <span class="n">player</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">var</span> <span class="n">message</span> <span class="p">=</span> <span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"{0} has joined the server"</span><span class="p">,</span> <span class="n">player</span><span class="p">.</span><span class="n">displayName</span><span class="p">);</span>
    <span class="n">rust</span><span class="p">.</span><span class="nf">BroadcastChat</span><span class="p">({</span> <span class="n">message</span> <span class="p">});</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">OnPlayerInit</span> <span class="err">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">player</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">rust</span><span class="p">.</span><span class="nx">BroadcastChat</span><span class="p">(</span><span class="nx">player</span><span class="p">.</span><span class="nx">diplayName</span> <span class="o">+</span> <span class="s2">" has joined the server"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight lua"><span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">OnPlayerInit</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
    <span class="n">rust</span><span class="p">.</span><span class="n">BroadcastChat</span><span class="p">(</span><span class="n">player</span><span class="p">.</span><span class="n">diplayName</span> <span class="o">..</span> <span class="s2">" has joined the server"</span><span class="p">)</span>
<span class="k">end</span>
</code></pre> <pre><code class="highlight python"><span class="k">def</span> <span class="nf">OnPlayerInit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
    <span class="n">rust</span><span class="o">.</span><span class="n">BroadcastChat</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">diplayName</span> <span class="o">+</span> <span class="s">" has joined the server"</span><span class="p">)</span>
</code></pre> <p>Sends a chat message to all players. The optional userid argument is used for the avatar in the chat, with 0 the default and Rust logo.</p> <p><code class=prettyprint>rust.BroadcastChat(name, message, userid)</code></p> <h2 id=sendchatmessage>SendChatMessage</h2> <pre><code class="highlight csharp"><span class="k">void</span> <span class="nf">OnPlayerSpawn</span><span class="p">(</span><span class="n">BasePlayer</span> <span class="n">player</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">var</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"You've respawned from a terrible death"</span><span class="p">;</span>
    <span class="n">rust</span><span class="p">.</span><span class="nf">SendChatMessage</span><span class="p">({</span> <span class="n">player</span><span class="p">,</span> <span class="n">message</span> <span class="p">});</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">OnPlayerSpawn</span> <span class="err">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">player</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">rust</span><span class="p">.</span><span class="nx">SendChatMessage</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span> <span class="s2">"SERVER"</span><span class="p">,</span> <span class="s2">"You've respawned from a terrible death"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight lua"><span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">OnPlayerSpawn</span><span class="p">(</span><span class="n">player</span><span class="p">)</span>
    <span class="n">rust</span><span class="p">.</span><span class="n">SendChatMessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="s2">"SERVER"</span><span class="p">,</span> <span class="s2">"You've respawned from a terrible death"</span><span class="p">)</span>
<span class="k">end</span>
</code></pre> <pre><code class="highlight python"><span class="k">def</span> <span class="nf">OnPlayerSpawn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">):</span>
    <span class="n">rust</span><span class="o">.</span><span class="n">SendChatMessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="s">"SERVER"</span><span class="p">,</span> <span class="s">"You've respawned from a terrible death"</span><span class="p">)</span>
</code></pre> <p>Sends a chat message to specified player. The optional userid argument is used for the avatar in the chat, with 0 the default and Rust logo.</p> <p><code class=prettyprint>rust.SendChatMessage(player, name, message, userid)</code></p> <h2 id=quotesafe>QuoteSafe</h2> <pre><code class="highlight csharp"><span class="n">var</span> <span class="n">message</span> <span class="p">=</span> <span class="s">"Use /kick \"playername\" to kick player"</span><span class="p">;</span>
<span class="n">message</span><span class="p">.</span><span class="nf">QuoteSafe</span><span class="p">();</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">rust</span><span class="p">.</span><span class="nx">QuoteSafe</span><span class="p">(</span><span class="s2">"Use /kick \"playername\" to kick player"</span><span class="p">);</span>
</code></pre> <pre><code class="highlight lua"><span class="n">rust</span><span class="p">.</span><span class="n">QuoteSafe</span><span class="p">(</span><span class="s2">"Use /kick \"</span><span class="n">playername</span><span class="err">\</span><span class="s2">" to kick player"</span><span class="p">)</span>
</code></pre> <pre><code class="highlight python"><span class="n">rust</span><span class="o">.</span><span class="n">QuoteSafe</span><span class="p">(</span><span class="s">"Use /kick </span><span class="se">\"</span><span class="s">playername</span><span class="se">\"</span><span class="s"> to kick player"</span><span class="p">)</span>
</code></pre> <p>Used to safely save text or send a message that contains quotation marks.</p> <p><code class=prettyprint>rust.QuoteSafe(message)</code></p> <h2 id=useridfromconnection>UserIDFromConnection</h2> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">CSharp</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">OnPlayerConnected</span> <span class="err">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">packet</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">connection</span> <span class="o">=</span> <span class="nx">packet</span><span class="p">.</span><span class="nx">connection</span><span class="p">;</span>
    <span class="nx">rust</span><span class="p">.</span><span class="nx">BroadcastChat</span><span class="p">(</span><span class="nx">connection</span><span class="p">.</span><span class="nx">username</span> <span class="o">+</span> <span class="s2">" connected ("</span> <span class="o">+</span> <span class="nx">rust</span><span class="p">.</span><span class="nx">UserIDFromConnection</span><span class="p">(</span><span class="nx">connection</span><span class="p">)</span> <span class="o">+</span> <span class="s2">")"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight lua"><span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">OnPlayerConnected</span><span class="p">(</span><span class="n">packet</span><span class="p">)</span>
    <span class="kd">local</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">packet</span><span class="p">.</span><span class="n">connection</span>
    <span class="n">rust</span><span class="p">.</span><span class="n">BroadcastChat</span><span class="p">(</span><span class="n">connection</span><span class="p">.</span><span class="n">username</span> <span class="o">..</span> <span class="s2">" connected ("</span> <span class="o">..</span> <span class="n">rust</span><span class="p">.</span><span class="n">UserIDFromConnection</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span> <span class="o">..</span> <span class="s2">")"</span><span class="p">)</span>
<span class="k">end</span>
</code></pre> <pre><code class="highlight python"><span class="k">def</span> <span class="nf">OnPlayerConnected</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">packet</span><span class="p">):</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">packet</span><span class="o">.</span><span class="n">connection</span>
    <span class="n">rust</span><span class="o">.</span><span class="n">BroadcastChat</span><span class="p">(</span><span class="n">connection</span><span class="o">.</span><span class="n">username</span> <span class="o">+</span> <span class="s">" connected ("</span> <span class="o">+</span> <span class="n">rust</span><span class="o">.</span><span class="n">UserIDFromConnection</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span> <span class="o">+</span> <span class="s">")"</span><span class="p">)</span>
</code></pre> <p>Gets the user ID (64-bit SteamID) of a player from their connection. This is mainly used for performing actions when a player connects to a server, or during the login process.</p> <p><code class=prettyprint>rust.UserIDFromConnection(connection)</code></p> <h2 id=useridfromplayer>UserIDFromPlayer</h2> <pre><code class="highlight csharp"><span class="na">[ChatCommand("steamid")]</span>
<span class="k">void</span> <span class="nf">cmdChatSteamid</span><span class="p">(</span><span class="n">BasePlayer</span> <span class="n">player</span><span class="p">,</span> <span class="kt">string</span> <span class="n">command</span><span class="p">,</span> <span class="kt">string</span><span class="p">[]</span> <span class="n">args</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">SendReply</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="s">"SERVER"</span><span class="p">,</span> <span class="s">"Your SteamID is: "</span> <span class="p">+</span> <span class="n">player</span><span class="p">.</span><span class="n">userID</span><span class="p">.</span><span class="nf">ToString</span><span class="p">());</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">Init</span> <span class="err">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">command</span><span class="p">.</span><span class="nx">AddChatCommand</span><span class="p">(</span><span class="s2">"steamid"</span><span class="p">,</span>  <span class="nx">self</span><span class="p">.</span><span class="nx">Plugin</span><span class="p">,</span> <span class="s2">"cmdSteamId"</span><span class="p">);</span>
<span class="p">},</span>
<span class="nx">cmdSteamId</span> <span class="err">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span> <span class="nx">command</span><span class="p">,</span> <span class="nx">arg</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">rust</span><span class="p">.</span><span class="nx">SendChatMessage</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span> <span class="s2">"SERVER"</span><span class="p">,</span> <span class="s2">"Your Steam ID is: "</span> <span class="o">+</span> <span class="nx">rust</span><span class="p">.</span><span class="nx">UserIDFromPlayer</span><span class="p">(</span><span class="nx">player</span><span class="p">));</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight lua"><span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">Init</span><span class="p">()</span>
    <span class="n">command</span><span class="p">.</span><span class="n">AddChatCommand</span><span class="p">(</span><span class="s2">"steamid"</span><span class="p">,</span>  <span class="n">self</span><span class="p">.</span><span class="n">Object</span><span class="p">,</span> <span class="s2">"cmdSteamId"</span><span class="p">)</span>
<span class="k">end</span>
<span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">cmdSteamId</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">arg</span><span class="p">)</span>
    <span class="n">rust</span><span class="p">.</span><span class="n">SendChatMessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="s2">"SERVER"</span><span class="p">,</span> <span class="s2">"Your Steam ID is: "</span> <span class="o">..</span> <span class="n">rust</span><span class="p">.</span><span class="n">UserIDFromPlayer</span><span class="p">(</span><span class="n">player</span><span class="p">))</span>
<span class="k">end</span>
</code></pre> <pre><code class="highlight python"><span class="k">def</span> <span class="nf">Init</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="n">command</span><span class="o">.</span><span class="n">AddChatCommand</span><span class="p">(</span><span class="s">"steamid"</span><span class="p">,</span>  <span class="bp">self</span><span class="o">.</span><span class="n">Plugin</span><span class="p">,</span> <span class="s">"cmdSteamId"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">cmdSteamId</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="n">command</span><span class="p">,</span> <span class="n">arg</span><span class="p">):</span>
    <span class="n">rust</span><span class="o">.</span><span class="n">SendChatMessage</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="s">"SERVER"</span><span class="p">,</span> <span class="s">"Your Steam ID is: "</span> <span class="o">+</span> <span class="n">rust</span><span class="o">.</span><span class="n">UserIDFromPlayer</span><span class="p">(</span><span class="n">player</span><span class="p">))</span>
</code></pre> <p>Gets the user ID (64-bit SteamID) of an online player.</p> <p><code class=prettyprint>rust.UserIDFromPlayer(player)</code></p> <h2 id=useridsfrombuildingprivlidge>UserIDsFromBuildingPrivlidge</h2> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">CSharp</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">a</span> <span class="nx">JavaScript</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Lua</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Python</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Gets the user ID (64-bit SteamID) of players that have access to a Tool Cupboard. Yes, the typo in the function name is intentional.</p> <p><code class=prettyprint>rust.UserIDsFromBuildingPrivlidge(buildingpriv)</code></p> <h2 id=runservercommand>RunServerCommand</h2> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">CSharp</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">a</span> <span class="nx">JavaScript</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="n">rust</span><span class="p">.</span><span class="n">RunServerCommand</span><span class="p">(</span><span class="s2">"server.hostname"</span><span class="p">,</span> <span class="s2">"New Server Name"</span><span class="p">)</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Python</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Runs a server command.</p> <p><code class=prettyprint>rust.RunServerCommand(command, args)</code></p> <h2 id=forceplayerposition>ForcePlayerPosition</h2> <pre><code class="highlight csharp"><span class="k">void</span> <span class="nf">ForcePlayerPosition</span><span class="p">(</span><span class="n">BasePlayer</span> <span class="n">player</span><span class="p">,</span> <span class="kt">string</span> <span class="n">x</span><span class="p">,</span> <span class="kt">string</span> <span class="n">y</span><span class="p">,</span> <span class="kt">string</span> <span class="n">z</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">Vector3</span> <span class="n">destination</span> <span class="p">=</span> <span class="k">new</span> <span class="n">UnityEngine</span><span class="p">.</span><span class="nf">Vector3</span><span class="p">();</span>
    <span class="n">destination</span><span class="p">.</span><span class="n">x</span> <span class="p">=</span> <span class="n">x</span><span class="p">;</span>
    <span class="n">destination</span><span class="p">.</span><span class="n">y</span> <span class="p">=</span> <span class="n">y</span><span class="p">;</span>
    <span class="n">destination</span><span class="p">.</span><span class="n">z</span> <span class="p">=</span> <span class="n">z</span><span class="p">;</span>
    <span class="n">player</span><span class="p">.</span><span class="n">transform</span><span class="p">.</span><span class="n">position</span> <span class="p">=</span> <span class="n">destination</span><span class="p">;</span>
    <span class="n">player</span><span class="p">.</span><span class="nf">ClientRPC</span><span class="p">(</span><span class="k">null</span><span class="p">,</span> <span class="n">player</span><span class="p">,</span> <span class="s">"ForcePositionTo"</span><span class="p">,</span> <span class="k">new</span> <span class="kt">object</span><span class="p">[]</span> <span class="p">{</span> <span class="n">destination</span> <span class="p">});</span>
    <span class="n">player</span><span class="p">.</span><span class="nf">TransformChanged</span><span class="p">();</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">a</span> <span class="nx">JavaScript</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="n">rust</span><span class="p">.</span><span class="n">ForcePlayerPosition</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">)</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Python</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Teleports a player to specified coordinates/position.</p> <p><code class=prettyprint>rust.ForcePlayerPosition(player, x, y, z)</code></p> <h2 id=privatebindingflag>PrivateBindingFlag</h2> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">CSharp</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">a</span> <span class="nx">JavaScript</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Lua</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Python</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Used to get/set private methods, fields, and properties.</p> <p><code class=prettyprint>rust.PrivateBindingFlag()</code></p> <h1 id=7-days-to-die-api-hooks>7 Days to Die API Hooks</h1> <h2 id=plugin-hooks>Plugin hooks</h2> <h3 id="init()">Init()</h3> <ul> <li>Called when the plugin is being loaded</li> <li>Other plugins may or may not be present, dependant on load order</li> <li>Other plugins WILL have been executed though, so globals exposed by them will be present</li> </ul> <h3 id="loaddefaultconfig()">LoadDefaultConfig()</h3> <ul> <li>Called when the config for the plugin should be initialized</li> <li>Only called if the config file does not already exist</li> </ul> <h3 id="unload()">Unload()</h3> <ul> <li>Called when the plugin is being unloaded</li> </ul> <h3 id="onpluginloaded(plugin)">OnPluginLoaded(plugin)</h3> <ul> <li>Called when specified plugin has been loaded</li> </ul> <h3 id="onpluginunloaded(plugin)">OnPluginUnloaded(plugin)</h3> <ul> <li>Called when specified plugin has been unloaded</li> </ul> <h2 id=general-hooks>General hooks</h2> <h3 id="oninitlogging()">OnInitLogging()</h3> <ul> <li>No return behavior</li> <li>Used internally by Oxide to start Unity logging</li> </ul> <h3 id="onserverinitialized()">OnServerInitialized()</h3> <ul> <li>Called from ConnectionManager.OnServerInitialized</li> <li>No return behavior</li> <li>Called after the server startup has been completed and is awaiting connections</li> </ul> <h3 id="onserversave()">OnServerSave()</h3> <ul> <li>Called from GameManager.SavePlayerData and GameManager.SaveWorld</li> <li>No return behavior</li> <li>Is called before the server saves world and player data</li> </ul> <h3 id="onserverquit()">OnServerQuit()</h3> <ul> <li>Called from GameManager.OnApplicationQuit</li> <li>No return behavior</li> <li>Is called before the server starts the shutdown sequence</li> <li>This should generally not be used by plugins, instead use the Unload hook</li> </ul> <h3 id="onruncommand(consolesdtd-console,-consolecommand-command,-string[]-args)">OnRunCommand(ConsoleSdtd console, ConsoleCommand command, String[] args)</h3> <ul> <li>Called from ConsoleSdtd.ExecuteRemoteCmdInternal</li> <li>Help! This is missing a description!</li> </ul> <h2 id=player-hooks>Player hooks</h2> <h3 id="onplayerconnected(clientinfo-client)">OnPlayerConnected(ClientInfo client)</h3> <ul> <li>Called from GameManager.md0013</li> <li>Help! This is missing a description!</li> </ul> <h3 id="onplayerdisconnected(clientinfo-client)">OnPlayerDisconnected(ClientInfo client)</h3> <ul> <li>Called from ConnectionManager.RemovePlayer</li> <li>Help! This is missing a description!</li> </ul> <h3 id="onplayerchat(string-message,-int-team,-string-playername)">OnPlayerChat(string message, int team, string playerName)</h3> <ul> <li>Called from GameManager.SendChatMessage</li> <li>Help! This is missing a description!</li> </ul> <h2 id=entity-hooks>Entity hooks</h2> <h3 id="onentityspawned(entity-entity)">OnEntitySpawned(Entity entity)</h3> <ul> <li>Called from World.SpawnEntityInWorld</li> <li>Help! This is missing a description!</li> </ul> <h3 id="onentityhurt(cl0006-entity,-damagesource-source)">OnEntityHurt(cl0006 entity, DamageSource source)</h3> <ul> <li>Called from cl0006.DamageEntity</li> <li>Help! This is missing a description!</li> </ul> <h3 id="onentitydeath(cl0006-entity)">OnEntityDeath(cl0006 entity)</h3> <ul> <li>Called from cl0006.OnEntityDeath and EntityCar.OnEntityDeath</li> <li>Help! This is missing a description!</li> </ul> <h2 id=item-hooks>Item hooks</h2> <p>None yet!</p> <h2 id=structure-hooks>Structure hooks</h2> <p>None yet!</p> <h1 id=7-days-to-die-functions>7 Days to Die Functions</h1> <p>There are a few functions that have been added to wrap 7 Days to Die functions, creating aliases of sorts to make your life easier during initial coding as well as during upgrades.</p> <h2 id=broadcastchat>BroadcastChat</h2> <pre><code class="highlight csharp"><span class="k">void</span> <span class="nf">OnPlayerConnected</span><span class="p">(</span><span class="n">ClientInfo</span> <span class="n">client</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nf">PrintToChat</span><span class="p">(</span><span class="kt">string</span><span class="p">.</span><span class="nf">Format</span><span class="p">(</span><span class="s">"{0} has joined the server"</span><span class="p">,</span> <span class="n">client</span><span class="p">.</span><span class="n">playerName</span><span class="p">));</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">OnPlayerConnected</span> <span class="err">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">client</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">sevendays</span><span class="p">.</span><span class="nx">BroadcastChat</span><span class="p">(</span><span class="nx">client</span><span class="p">.</span><span class="nx">playerName</span> <span class="o">+</span> <span class="s2">" has joined the server"</span><span class="p">);</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight lua"><span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">OnPlayerConnected</span><span class="p">(</span><span class="n">client</span><span class="p">)</span>
    <span class="n">sevendays</span><span class="p">.</span><span class="n">BroadcastChat</span><span class="p">(</span><span class="n">client</span><span class="p">.</span><span class="n">playerName</span> <span class="o">..</span> <span class="s2">" has joined the server"</span><span class="p">)</span>
<span class="k">end</span>
</code></pre> <pre><code class="highlight python"><span class="k">def</span> <span class="nf">OnPlayerConnected</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">client</span><span class="p">):</span>
    <span class="n">sevendays</span><span class="o">.</span><span class="n">BroadcastChat</span><span class="p">(</span><span class="n">client</span><span class="o">.</span><span class="n">playerName</span> <span class="o">+</span> <span class="s">" has joined the server"</span><span class="p">)</span>
</code></pre> <p>Sends a chat message to all players. The name parameter is optional and will be blank if not provided.</p> <p><code class=prettyprint>sevendays.BroadcastChat(name, message)</code></p> <h1 id=commands>Commands</h1> <h2 id=default-commands>Default commands</h2> <p>oxide.load</p> <p>oxide.reload</p> <p>oxide.unload</p> <p>oxide.version</p> <p>version</p> <h2 id=chat-commands>Chat commands</h2> <h2 id=console-commands>Console commands</h2> <h1 id=configurations>Configurations</h1> <h2 id=creating-a-configuration>Creating a configuration</h2> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">CSharp</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="kd">var</span> <span class="nx">PluginName</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">HasConfig</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>

    <span class="na">Init</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">LoadDefaultConfig</span><span class="p">();</span>
    <span class="p">},</span>

    <span class="nx">LoadDefaultConfig</span><span class="err">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">ShowJoinMessage</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">ShowJoinMessage</span> <span class="o">||</span> <span class="s2">"true"</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">ShowLeaveMessage</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">ShowLeaveMessage</span> <span class="o">||</span> <span class="s2">"true"</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Messages</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Messages</span> <span class="o">||</span> <span class="p">{};</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Messages</span><span class="p">.</span><span class="nx">Join</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Messages</span><span class="p">.</span><span class="nx">Join</span> <span class="o">||</span> <span class="s2">"Welcome to this server"</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Messages</span><span class="p">.</span><span class="nx">Leave</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">Messages</span><span class="p">.</span><span class="nx">Leave</span> <span class="o">||</span> <span class="s2">"Goodbye"</span><span class="p">;</span>
        <span class="nl">this</span><span class="p">:</span><span class="nx">SaveConfig</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight lua"><span class="n">PLUGIN</span><span class="p">.</span><span class="n">HasConfig</span> <span class="o">=</span> <span class="kc">true</span>

<span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">Init</span><span class="p">()</span>
    <span class="n">self</span><span class="p">:</span><span class="n">LoadDefaultConfig</span><span class="p">()</span>
<span class="k">end</span>

<span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">LoadDefaultConfig</span><span class="p">()</span>
    <span class="n">self</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">ShowJoinMessage</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">ShowJoinMessage</span> <span class="ow">or</span> <span class="s2">"true"</span>
    <span class="n">self</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">ShowLeaveMessage</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">ShowLeaveMessage</span> <span class="ow">or</span> <span class="s2">"true"</span>
    <span class="n">self</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">Messages</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">Messages</span> <span class="ow">or</span> <span class="p">{}</span>
    <span class="n">self</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">Messages</span><span class="p">.</span><span class="n">Join</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">Messages</span><span class="p">.</span><span class="n">Join</span> <span class="ow">or</span> <span class="s2">"Welcome to this server"</span>
    <span class="n">self</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">Messages</span><span class="p">.</span><span class="n">Leave</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">Messages</span><span class="p">.</span><span class="n">Leave</span> <span class="ow">or</span> <span class="s2">"Goodbye"</span>
    <span class="n">self</span><span class="p">:</span><span class="n">SaveConfig</span><span class="p">()</span>
<span class="k">end</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Python</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Since many users won&rsquo;t want to (or can&rsquo;t) edit the plugin directly to change the default configuration, it&rsquo;s best to offer to offer them a configuration file that can easily be edited without worrying about messing up the plugin.</p> <h2 id=saving-a-configuration>Saving a configuration</h2> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">CSharp</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">cmdTest</span><span class="err">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">ShowJoinMessage</span> <span class="o">==</span> <span class="s2">"true"</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">ShowJoinMessage</span> <span class="o">=</span> <span class="s2">"false"</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">Config</span><span class="p">.</span><span class="nx">ShowJoinMessage</span> <span class="o">=</span> <span class="s2">"true"</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="nl">this</span><span class="p">:</span><span class="nx">SaveConfig</span><span class="p">();</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight lua"><span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">cmdTest</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">ShowJoinMessage</span> <span class="o">==</span> <span class="s2">"true"</span> <span class="k">then</span>
        <span class="n">self</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">ShowJoinMessage</span> <span class="o">=</span> <span class="s2">"false"</span>
    <span class="k">else</span>
        <span class="n">self</span><span class="p">.</span><span class="n">Config</span><span class="p">.</span><span class="n">ShowJoinMessage</span> <span class="o">=</span> <span class="s2">"true"</span>
    <span class="k">end</span>
    <span class="n">self</span><span class="p">:</span><span class="n">SaveConfig</span><span class="p">()</span>
<span class="k">end</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Python</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>You can change and save configuration entries by simply assigning the new values and calling the save function.</p> <h1 id=data-tables>Data Tables</h1> <h2 id=creating-a-data-table>Creating a data table</h2> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">CSharp</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">Init</span><span class="err">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nl">this</span><span class="p">:</span><span class="nx">LoadDataFiles</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">dataTable</span>
<span class="nl">LoadDataFiles</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">dataTable</span> <span class="o">=</span> <span class="nx">datafile</span><span class="p">.</span><span class="nx">GetDataTable</span><span class="p">(</span><span class="s2">"pluginName"</span><span class="p">)</span> <span class="o">||</span> <span class="p">{};</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight lua"><span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">Init</span><span class="p">()</span>
    <span class="n">self</span><span class="p">:</span><span class="n">LoadDataFiles</span><span class="p">()</span>
<span class="k">end</span>

<span class="kd">local</span> <span class="n">dataTable</span>
<span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">LoadDataFiles</span><span class="p">()</span>
    <span class="n">dataTable</span> <span class="o">=</span> <span class="n">datafile</span><span class="p">.</span><span class="n">GetDataTable</span><span class="p">(</span><span class="s2">"pluginName"</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{}</span>
<span class="k">end</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Python</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>To store plugin related data to use in your plugin, you want to create a data file.</p> <h2 id=saving-a-data-table>Saving a Data Table</h2> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">CSharp</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">SaveDataFiles</span><span class="err">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">datafile</span><span class="p">.</span><span class="nx">SaveDataTable</span><span class="p">(</span><span class="s2">"pluginName"</span><span class="p">);</span>
<span class="p">}</span>

<span class="nl">cmdTest</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">player</span><span class="p">,</span> <span class="nx">cmd</span><span class="p">,</span> <span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">name</span> <span class="o">=</span> <span class="nx">player</span><span class="p">.</span><span class="nx">displayName</span><span class="p">;</span>
    <span class="nx">dataTable</span><span class="p">[</span><span class="nx">name</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="nl">this</span><span class="p">:</span><span class="nx">SaveDataFiles</span><span class="p">();</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight lua"><span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">SaveDataFiles</span><span class="p">()</span>
    <span class="n">datafile</span><span class="p">.</span><span class="n">SaveDataTable</span><span class="p">(</span><span class="s2">"pluginName"</span><span class="p">)</span>
<span class="k">end</span>

<span class="k">function</span> <span class="nf">PLUGIN</span><span class="p">:</span><span class="n">cmdTest</span><span class="p">(</span><span class="n">player</span><span class="p">,</span> <span class="n">cmd</span><span class="p">,</span> <span class="n">args</span><span class="p">)</span>
    <span class="kd">local</span> <span class="n">name</span> <span class="o">=</span> <span class="n">player</span><span class="p">.</span><span class="n">displayName</span>
    <span class="n">dataTable</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="kc">true</span>
    <span class="n">self</span><span class="p">:</span><span class="n">SaveDataFiles</span><span class="p">()</span>
<span class="k">end</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Python</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <h1 id=timers>Timers</h1> <h2 id=creating-a-timer>Creating a timer</h2> <p>Sometimes you come across a situation which only a timer can fix. Timers are great for delaying code, allowing it to be run later. The following sections will show you the various timer types, and how to use them properly.</p> <h2 id="timer.once">timer.Once</h2> <blockquote> <p>Basic example of timer.Once</p> </blockquote> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">CSharp</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="k">this</span><span class="p">.</span><span class="nx">BroadcastTimer</span> <span class="o">=</span> <span class="nx">timer</span><span class="p">.</span><span class="nx">Once</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">rust</span><span class="p">.</span><span class="nx">BroadcastChat</span><span class="p">(</span><span class="s2">"SERVER"</span><span class="p">,</span> <span class="s2">"Hello world!"</span><span class="p">);</span>
<span class="p">},</span> <span class="k">this</span><span class="p">.</span><span class="nx">Plugin</span><span class="p">);</span>
</code></pre> <pre><code class="highlight lua"><span class="n">self</span><span class="p">.</span><span class="n">BroadcastTimer</span> <span class="o">=</span> <span class="n">timer</span><span class="p">.</span><span class="n">Once</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span>
    <span class="n">rust</span><span class="p">.</span><span class="n">BroadcastChat</span><span class="p">(</span><span class="s2">"SERVER"</span><span class="p">,</span> <span class="s2">"Hello world!"</span><span class="p">)</span>
<span class="k">end</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">Plugin</span><span class="p">)</span>
</code></pre> <pre><code class="highlight python"><span class="k">def</span> <span class="nf">my_callback_func</span><span class="p">():</span>
    <span class="n">rust</span><span class="o">.</span><span class="n">BroadcastChat</span><span class="p">(</span><span class="s">"SERVER"</span><span class="p">,</span> <span class="s">"Hello world!"</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">BroadcastTimer</span> <span class="o">=</span> <span class="n">timer</span><span class="o">.</span><span class="n">Once</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">Action</span><span class="p">(</span><span class="n">my_callback_func</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plugin</span><span class="p">)</span>
</code></pre> <blockquote> <p>Example of timer.Once with a table</p> </blockquote> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">CSharp</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">a</span> <span class="nx">JavaScript</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="n">self</span><span class="p">.</span><span class="n">TimersList</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">self</span><span class="p">.</span><span class="n">TimersList</span><span class="p">[</span><span class="s2">"Notice1"</span><span class="p">]</span> <span class="o">=</span> <span class="n">timer</span><span class="p">.</span><span class="n">Once</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span>
    <span class="n">rust</span><span class="p">.</span><span class="n">BroadcastChat</span><span class="p">(</span><span class="s2">"SERVER"</span><span class="p">,</span> <span class="s2">"This is the Notice 1 every 3 seconds"</span><span class="p">)</span>
<span class="k">end</span><span class="p">)</span>
<span class="n">self</span><span class="p">.</span><span class="n">TimersList</span><span class="p">[</span><span class="s2">"Notice2"</span><span class="p">]</span> <span class="o">=</span> <span class="n">timer</span><span class="p">.</span><span class="n">Once</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span>
    <span class="n">rust</span><span class="p">.</span><span class="n">BroadcastChat</span><span class="p">(</span><span class="s2">"SERVER"</span><span class="p">,</span> <span class="s2">"This is the Notice 2 every 10 seconds"</span><span class="p">)</span>
<span class="k">end</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">Plugin</span><span class="p">)</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Python</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Executes the specified function once after the specified delay.</p> <h2 id="timer.repeat">timer.Repeat</h2> <blockquote> <p>Basic example of timer.Repeat</p> </blockquote> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">CSharp</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="k">this</span><span class="p">.</span><span class="nx">BroadcastTimer</span> <span class="o">=</span> <span class="nx">timer</span><span class="p">.</span><span class="nx">Repeat</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">rust</span><span class="p">.</span><span class="nx">BroadcastChat</span><span class="p">(</span><span class="s2">"SERVER"</span><span class="p">,</span> <span class="s2">"Hello world!"</span><span class="p">);</span>
<span class="p">},</span> <span class="k">this</span><span class="p">.</span><span class="nx">Plugin</span><span class="p">);</span>
</code></pre> <pre><code class="highlight lua"><span class="n">self</span><span class="p">.</span><span class="n">BroadcastTimer</span> <span class="o">=</span> <span class="n">timer</span><span class="p">.</span><span class="n">Repeat</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">function</span><span class="p">()</span>
    <span class="n">rust</span><span class="p">.</span><span class="n">BroadcastChat</span><span class="p">(</span><span class="s2">"SERVER"</span><span class="p">,</span> <span class="s2">"Hello world!"</span><span class="p">)</span>
<span class="k">end</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">Plugin</span><span class="p">)</span>
</code></pre> <pre><code class="highlight python"><span class="k">def</span> <span class="nf">my_callback_func</span><span class="p">():</span>
    <span class="n">rust</span><span class="o">.</span><span class="n">BroadcastChat</span><span class="p">(</span><span class="s">"SERVER"</span><span class="p">,</span> <span class="s">"Hello world!"</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">BroadcastTimer</span> <span class="o">=</span> <span class="n">timer</span><span class="o">.</span><span class="n">Repeat</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">Action</span><span class="p">(</span><span class="n">my_callback_func</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plugin</span><span class="p">)</span>
</code></pre> <p>Executes the specified function every &ldquo;delay&rdquo; seconds. If &ldquo;repeats&rdquo; is specified, the function will only be called &ldquo;repeats&rdquo; times.</p> <h2 id="timer.nextframe">timer.NextFrame</h2> <blockquote> <p>Basic example of timer.NextFrame</p> </blockquote> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">CSharp</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">a</span> <span class="nx">JavaScript</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Lua</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Python</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Executes the specified function at the next frame.</p> <h2 id=destroying-a-timer>Destroying a timer</h2> <blockquote> <p>Basic example in Unload</p> </blockquote> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">CSharp</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">BroadcastTimer</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">BroadcastTimer</span><span class="p">.</span><span class="nx">Destroy</span><span class="p">();</span>
<span class="p">}</span>
</code></pre> <pre><code class="highlight lua"><span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">BroadcastTimer</span> <span class="k">then</span>
    <span class="n">self</span><span class="p">.</span><span class="n">BroadcastTimer</span><span class="p">:</span><span class="n">Destroy</span><span class="p">()</span>
<span class="k">end</span>
</code></pre> <pre><code class="highlight python"><span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">BroadcastTimer</span><span class="p">:</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">BroadcastTimer</span><span class="o">.</span><span class="n">Destroy</span><span class="p">()</span>
</code></pre> <blockquote> <p>Example in Unload with a table</p> </blockquote> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">CSharp</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">a</span> <span class="nx">JavaScript</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="k">in</span> <span class="nb">pairs</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">TimersList</span><span class="p">)</span> <span class="k">do</span>
    <span class="n">self</span><span class="p">.</span><span class="n">TimersList</span><span class="p">[</span><span class="n">key</span><span class="p">]:</span><span class="n">Destroy</span><span class="p">()</span>
<span class="k">end</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Python</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>If you need to stop a timer, you can do so by destroying the instance of the timer. When used correctly, timers are automatically destroyed when the plugin is reload or unloaded.</p> <h1 id=web-requests>Web Requests</h1> <p>Sends a HTTP web request to the specified URL. Returns true if the web request was sent, false if not. The callback is called with 2 parameters - an integer HTTP response code and a string response.</p> <h2 id=get-method>Get method</h2> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">CSharp</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">webrequests</span><span class="p">.</span><span class="nx">EnqueueGet</span><span class="p">(</span><span class="s2">"http://www.google.com/search?q=rust+oxide"</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">code</span><span class="p">,</span> <span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">response</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">||</span> <span class="nx">code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">print</span><span class="p">(</span><span class="s2">"Couldn't get an answer from Google!"</span><span class="p">);</span>
        <span class="k">return</span>
    <span class="p">}</span>
    <span class="nx">print</span><span class="p">(</span><span class="s2">"Google answered: "</span> <span class="o">+</span> <span class="nx">response</span><span class="p">);</span>
<span class="p">}.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">),</span> <span class="k">this</span><span class="p">.</span><span class="nx">Plugin</span><span class="p">);</span>
</code></pre> <pre><code class="highlight lua"><span class="n">webrequests</span><span class="p">.</span><span class="n">EnqueueGet</span><span class="p">(</span><span class="s2">"http://www.google.com/search?q=rust+oxide"</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="kc">nil</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">~=</span> <span class="mi">200</span> <span class="k">then</span> 
        <span class="nb">print</span><span class="p">(</span><span class="s2">"Couldn't get an answer from Google!"</span><span class="p">)</span> 
        <span class="k">return</span> 
    <span class="k">end</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">"Google answered: "</span> <span class="o">..</span> <span class="nb">tostring</span><span class="p">(</span><span class="n">response</span><span class="p">))</span>
<span class="k">end</span><span class="p">,</span> <span class="n">self</span><span class="p">.</span><span class="n">Plugin</span><span class="p">)</span>
</code></pre> <pre><code class="highlight python"><span class="kn">from</span> <span class="nn">System</span> <span class="kn">import</span> <span class="n">Action</span><span class="p">,</span> <span class="n">Int32</span><span class="p">,</span> <span class="n">String</span>
<span class="k">def</span> <span class="nf">response_handler</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">response</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">response</span> <span class="o">==</span> <span class="bp">None</span> <span class="ow">or</span> <span class="n">code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
        <span class="k">print</span> <span class="s">"Couldn't get an answer from Google!"</span> 
        <span class="k">return</span> 
    <span class="k">print</span> <span class="s">"Google answered: "</span> <span class="o">+</span> <span class="n">response</span>
<span class="n">webrequests</span><span class="o">.</span><span class="n">EnqueueGet</span><span class="p">(</span><span class="s">"http://www.google.com/search?q=rust+oxide"</span><span class="p">,</span> <span class="n">Action</span><span class="p">[</span><span class="n">Int32</span><span class="p">,</span><span class="n">String</span><span class="p">](</span><span class="n">response_handler</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">Plugin</span><span class="p">);</span>
</code></pre> <p>This uses the raw connection to a web page as you would on your browser.</p> <p>Returns true/false</p> <h2 id=post-method>Post method</h2> <pre><code class="highlight csharp"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">CSharp</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight javascript"><span class="nx">We</span> <span class="nx">need</span> <span class="nx">a</span> <span class="nx">JavaScript</span> <span class="nx">example</span> <span class="nx">here</span>
</code></pre> <pre><code class="highlight lua"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Lua</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <pre><code class="highlight python"><span class="n">We</span> <span class="n">need</span> <span class="n">a</span> <span class="n">Python</span> <span class="n">example</span> <span class="n">here</span>
</code></pre> <p>Returns true/false</p> <h1 id=styling-messages>Styling Messages</h1> <blockquote> <p>Render the text in boldface</p> </blockquote> <pre><code class="highlight html">We are <span class="nt">&lt;b&gt;</span>not<span class="nt">&lt;/b&gt;</span> amused.
</code></pre> <blockquote> <p>Render the text in italics</p> </blockquote> <pre><code class="highlight html">We are <span class="nt">&lt;i&gt;</span>usually<span class="nt">&lt;/i&gt;</span> not amused.
</code></pre> <blockquote> <p>It is possible to apply more than one style to a section of text by nesting one element inside another.</p> </blockquote> <pre><code class="highlight html">We are <span class="nt">&lt;b&gt;&lt;i&gt;</span>definitely not<span class="nt">&lt;/i&gt;&lt;/b&gt;</span> amused
</code></pre> <blockquote> <p>Note the ordering of the ending tags, which is in reverse to that of the starting tags. The reason for this is perhaps clearer when you consider that the inner tags need not span the whole text of the outermost element.</p> </blockquote> <pre><code class="highlight html">We are <span class="nt">&lt;b&gt;</span>absolutely <span class="nt">&lt;i&gt;</span>definitely<span class="nt">&lt;/i&gt;</span> not<span class="nt">&lt;/b&gt;</span> amused
</code></pre> <blockquote> <p>Change the size of text, by pixel value</p> </blockquote> <pre><code class="highlight html">We are <span class="nt">&lt;size</span><span class="err">=</span><span class="na">50</span><span class="nt">&gt;</span>largely<span class="nt">&lt;/size&gt;</span> unaffected.
</code></pre> <blockquote> <p>Change the color of text</p> </blockquote> <pre><code class="highlight html"><span class="nt">&lt;color</span><span class="err">=#</span><span class="na">00ffffff</span><span class="nt">&gt;</span>Hello world<span class="nt">&lt;/color&gt;</span>
</code></pre> <p>With Rust, you can stylize messages send from the server via plugins. Styling is limited to bold, italic, size, and color.</p> <p>The color can be specified in the traditional HTML format. <code class=prettyprint>#rrggbbaa</code>&hellip; where the letters correspond to pairs of hexadecimal digits denoting the red, green, blue and alpha (transparency) values for the color.</p> <p>Another option is to use the name of the color. This is easier to understand but naturally, the range of colors is limited and full opacity is always assumed. <code class=prettyprint>&lt;color=cyan&gt;</code>&hellip; The available color names are given in the table below.</p> <table><thead> <tr> <th>Color Name</th> <th>Hex Value</th> <th>Swatch</th> </tr> </thead><tbody> <tr> <td>aqua (same as cyan)</td> <td>#00ffffff</td> <td><img src="images/cyan-swatch.png"/></td> </tr> <tr> <td>black</td> <td>#000000ff</td> <td><img src="images/black-swatch.png"/></td> </tr> <tr> <td>blue</td> <td>#0000ffff</td> <td><img src="images/blue-swatch.png"/></td> </tr> <tr> <td>brown</td> <td>#a52a2aff</td> <td><img src="images/brown-swatch.png"/></td> </tr> <tr> <td>cyan (same as aqua)</td> <td>#00ffffff</td> <td><img src="images/cyan-swatch.png"/></td> </tr> <tr> <td>darkblue</td> <td>#0000a0ff</td> <td><img src="images/darkblue-swatch.png"/></td> </tr> <tr> <td>fuchsia (same as magenta)</td> <td>#ff00ffff</td> <td><img src="images/magenta-swatch.png"/></td> </tr> <tr> <td>green</td> <td>#008000ff</td> <td><img src="images/green-swatch.png"/></td> </tr> <tr> <td>grey</td> <td>#808080ff</td> <td><img src="images/grey-swatch.png"/></td> </tr> <tr> <td>lightblue</td> <td>#add8e6ff</td> <td><img src="images/lightblue-swatch.png"/></td> </tr> <tr> <td>lime</td> <td>#00ff00ff</td> <td><img src="images/lime-swatch.png"/></td> </tr> <tr> <td>magenta (same as fuchsia)</td> <td>#ff00ffff</td> <td><img src="images/magenta-swatch.png"/></td> </tr> <tr> <td>maroon</td> <td>#800000ff</td> <td><img src="images/maroon-swatch.png"/></td> </tr> <tr> <td>navy</td> <td>#000080ff</td> <td><img src="images/navy-swatch.png"/></td> </tr> <tr> <td>olive</td> <td>#808000ff</td> <td><img src="images/olive-swatch.png"/></td> </tr> <tr> <td>orange</td> <td>#ffa500ff</td> <td><img src="images/orange-swatch.png"/></td> </tr> <tr> <td>purple</td> <td>#800080ff</td> <td><img src="images/purple-swatch.png"/></td> </tr> <tr> <td>red</td> <td>#ff0000ff</td> <td><img src="images/red-swatch.png"/></td> </tr> <tr> <td>silver</td> <td>#c0c0c0ff</td> <td><img src="images/silver-swatch.png"/></td> </tr> <tr> <td>teal</td> <td>#008080ff</td> <td><img src="images/teal-swatch.png"/></td> </tr> <tr> <td>white</td> <td>#ffffffff</td> <td><img src="images/white-swatch.png"/></td> </tr> <tr> <td>yellow</td> <td>#ffff00ff</td> <td><img src="images/yellow-swatch.png"/></td> </tr> </tbody></table> <p><em>Source: <a href="//docs.unity3d.com/Manual/StyledText.html">http://docs.unity3d.com/Manual/StyledText.html</a></em></p> <h1 id=compiling-source>Compiling Source</h1> <p>While we recommend using one of the <a href="//oxidemod.org/download/">official release builds</a>, you can compile your own builds if you&rsquo;d like.</p> <ol> <li>Clone the git repository locally using <code class=prettyprint>git clone https://github.com/OxideMod/Oxide.git</code></li> <li>Open the solution the latest version of <a href="https://www.visualstudio.com/en-us/downloads/visual-studio-2015-downloads-vs.aspx">Visual Studio 2015</a>, which includes .NET Framework 4.6.</li> <li>Build the project using the solution. If you get errors, you&rsquo;re likely not using Visual Studio 2015.</li> </ol> <aside class=warning>Keep in mind that only official builds are supported by the Oxide team and community.</aside> </div> <div class=dark-box> <div class=lang-selector> <a href="#" data-language-name=csharp>csharp</a> <a href="#" data-language-name=javascript>javascript</a> <a href="#" data-language-name=lua>lua</a> <a href="#" data-language-name=python>python</a> </div> </div> </div> </body> </html>